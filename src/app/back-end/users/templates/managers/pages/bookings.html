{% extends "managers/base.html" %}
{% load static %}

{% block content%}
<div class="container-fluid py-4">
  <div class="row">
    {% for booking in bookings %}
    <div class="col-xl-3 col-sm-6 col-12">
        <div class="card-body text-white mb-4">
          <h5 class="card-title text-center">Reservation {{ booking.id }}</h2>
          <p class="card-text"><b>User:</b> {{ booking.user }}</p>
          <p class="card-text"><b>Hammocks:</b>
            {% for product in booking.products.all %}
              {{ product.id }}{% if not forloop.last %},{% endif %}
            {% endfor %}</p>
          <p class="card-text"><b>Price:</b> {{ booking.price }}</p>
          <p class="card-text"><b>Duration:</b> {{ booking.get_duration_display }}</p>
          <p class="card-text"><b>Date:</b> {{ booking.date|date:"d/m/Y" }}</p>
          <a href="{% url 'users:manager_bookings_delete' booking.id %}" class="btn btn-danger m-0">Delete</a>
        </div>
    </div>
    {% endfor %}
  </div>
</div>
  {% include "managers/pagination-bookings.html" with bookings=bookings %}
  {% block domready %}
  <script>
    document.addEventListener("DOMContentLoaded", (event) => {
      document
        .querySelector("#search-bookings-btn")
        .addEventListener("click", (event) => {
          event.preventDefault();
          const data = document.querySelector("#search-bookings-field").value;
          window.location.href = `/manager/bookings/search/${data}/`;
      });
    });
  </script>
  {% endblock domready %}
{% endblock %}
